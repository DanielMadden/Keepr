(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-316dfe08"],{6770:function(e,t,a){"use strict";a("e628")},e628:function(e,t,a){},e6f4:function(e,t,a){"use strict";a.r(t);var i=a("7a23");const c=Object(i["M"])("data-v-5e837130");Object(i["w"])("data-v-5e837130");const n={key:0,class:"container-fluid"},l=Object(i["i"])("span",null,"Deleting...",-1),s={key:1,class:"container-fluid"},o={class:"col"},u={class:"row d-flex justify-content-between align-items-center"},r=Object(i["i"])("h1",null,[Object(i["i"])("i",{class:"fa fa-trash"})],-1),b={class:"row"},j=Object(i["i"])("div",{class:"row py-3"},null,-1),g={class:"row"},O=Object(i["i"])("div",{class:"row py-3"},null,-1),d={class:"masonry-4"},v={class:"viewport"},p={key:0,class:"fas fa-key"},f={key:1,class:"fas fa-lock"},h={key:2,class:"fas fa-unlock-alt"},k={key:0},y={key:0},w={key:1},m={key:2},z={key:3};Object(i["u"])();const P=c((e,t,a,c,P,V)=>{const I=Object(i["A"])("Keep");return Object(i["t"])(),Object(i["e"])("div",null,[c.vault?(Object(i["t"])(),Object(i["e"])("div",{key:0,class:"viewport",onClick:t[2]||(t[2]=e=>c.clearDelete())},[Object(i["K"])(Object(i["i"])("div",null,["deleting"==c.vault?(Object(i["t"])(),Object(i["e"])("div",n,[l])):(Object(i["t"])(),Object(i["e"])("div",s,[Object(i["i"])("div",{class:"row",id:"vault-image",style:`background: linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.2)), url('${c.vault.img}') no-repeat center center /cover; overflow-y: hidden`},[Object(i["i"])("div",o,[Object(i["i"])("div",u,[Object(i["i"])("h1",null,Object(i["D"])(c.vault.name),1),c.account.id==c.vault.creator.id?(Object(i["t"])(),Object(i["e"])("div",{key:0,id:"vault-delete",class:{shake:c.deleting,confirm:c.deleting},onClick:t[1]||(t[1]=e=>c.deleteVault(e))},[r],2)):Object(i["f"])("",!0)]),Object(i["i"])("div",b,Object(i["D"])(c.vault.description),1)])],4),j,Object(i["i"])("div",g,[Object(i["i"])("h1",null,Object(i["D"])(c.keeps.length)+" Keeps",1)]),O])),Object(i["i"])("div",d,[(Object(i["t"])(!0),Object(i["e"])(i["a"],null,Object(i["z"])(c.keeps,e=>(Object(i["t"])(),Object(i["e"])(I,{key:e.id,keep:e,page:"Vault"},null,8,["keep"]))),128))])],512),[[i["H"],!c.animating]])])):Object(i["f"])("",!0),Object(i["K"])(Object(i["i"])("div",v,[Object(i["i"])("div",{class:["loader-page-container",{showMessage:c.animating&&!c.opening}]},[Object(i["i"])("div",{class:["loader-page-spinner d-flex justify-content-center align-items-center",{"animate-out":c.authorized}]},[Object(i["i"])("i",{class:["fas fa-certificate",{"slow-spin":c.authorizing||c.authorized,"stop-spin":c.isPrivate&&c.authorizing&&!c.loggingIn&&!c.account.id}]},null,2)],2),Object(i["i"])("div",{class:["loader-page-logo no-stretch d-flex justify-content-center align-items-center",{"animate-out":c.authorized}]},[!c.authorized&&c.loggingIn?(Object(i["t"])(),Object(i["e"])("i",p)):c.authorized?(Object(i["t"])(),Object(i["e"])("i",h)):(Object(i["t"])(),Object(i["e"])("i",f))],2),Object(i["i"])("div",{class:["loader-page-message d-flex justify-content-center align-items-center",{"pb-5 px-5":c.animating&&!c.opening}]},[c.animating&&!c.opening?(Object(i["t"])(),Object(i["e"])("span",k,[c.isPrivate&&c.authorizing&&!c.loggingIn&&!c.account.id?(Object(i["t"])(),Object(i["e"])("span",y," Vault is private. Please log in to view. ")):c.isPrivate&&c.authorizing&&c.loggingIn?(Object(i["t"])(),Object(i["e"])("span",w," Logging in... ")):!c.isPrivate||c.authorizing||c.authorized?(Object(i["t"])(),Object(i["e"])("span",z,"Opening Vault...")):(Object(i["t"])(),Object(i["e"])("span",m," You are not authorized to open this vault. "))])):Object(i["f"])("",!0)],2)],2)],512),[[i["H"],!c.vault||c.animating]])])});var V=a("29be"),I=a("6c02"),K=a("83fc"),D={setup(){const e=Object(I["c"])(),t=Object(I["d"])(),a=Object(i["c"])(()=>K["a"].account),c=Object(i["c"])(()=>K["a"].activeVault),n=Object(i["c"])(()=>K["a"].activeVaultKeeps),l=Object(i["c"])(()=>K["a"].authorized.vault),s=Object(i["c"])(()=>K["a"].authorizing.vault),o=Object(i["c"])(()=>K["a"].loggingIn),u=Object(i["c"])(()=>K["a"].isPrivate.vault),r=Object(i["c"])(()=>K["a"].animating.vault),b=Object(i["c"])(()=>K["a"].opening.vault),j=async()=>{try{await V["a"].getVault(e.params.id),await V["a"].getKeeps(e.params.id)}catch(t){K["a"].isPrivate.vault=!0}};let g;Object(i["r"])(()=>{K["a"].opening.vault=!1,K["a"].isPrivate.vault=!1,K["a"].animating.vault=!0,K["a"].authorizing.vault=!0,j()}),Object(i["J"])(async()=>{a.value.id&&(await j(),K["a"].authorizing.vault=!1)});const O=()=>{clearInterval(g),K["a"].deleting.vault=!1},d=Object(i["c"])(()=>K["a"].deleting.vault),v=async e=>{if(e.stopPropagation(),d.value){const e=c.value.id;K["a"].activeVault="deleting",await V["a"].delete(e),t.push({path:"/profile/"+a.value.id})}else K["a"].deleting.vault=!0,g=setTimeout(()=>{K["a"].deleting.vault=!1},3e3)};return Object(i["J"])(()=>{!1===K["a"].deleting.vault&&clearInterval(g)}),Object(i["p"])(()=>{O(),K["a"].activeVault=null,K["a"].activeVaultKeeps=[],K["a"].isPrivate.vault=!1}),{account:a,vault:c,keeps:n,deleting:d,authorized:l,authorizing:s,loggingIn:o,isPrivate:u,animating:r,opening:b,clearDelete:O,deleteVault:v}}};a("6770");D.render=P,D.__scopeId="data-v-5e837130";t["default"]=D}}]);